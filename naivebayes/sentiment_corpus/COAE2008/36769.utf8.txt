重启网络设备 解决网络的疑难故障--IT-- 重启网络设备 解决网络的疑难故障
网络设备的工作状态直接关系着网络的运行状态，在长时间工作后，网络设备的工作状态很容易出错，事实上，在解决由网络设备工作状态引起的网络故障时，我们应该善于“重启”网络设备，以便让网络设备的工作状态快速恢复正常，从而在转瞬之间就能解决看上去非常奇怪的网络故障。本文就从实战角度出发，希望下面的内容能给各位带来收获!
故障回放
单位的一位员工说他使用的计算机不能访问Internet网络了，而且单位的局域网也不能访问了。原以为这只是个别现象，可谁曾想到，单位的其他同事陆陆续续打来电话，向笔者反映他们的计算机都不能正常访问外网和内网。
笔者尝试打开自己的笔记本电脑，并将它接入到局域网尝试上网访问，看看局域网网络是否真的无法上网，结果发现笔者的笔记本能够正常上网，这表明局域网是能访问外部网络的，而同事们向笔者反映的故障应该属于个别现象。
于是，笔者用一位同事的故障计算机以系统管理员身份登录进该计算机系统，并打开该系统的开始菜单，再执行其中的运行命令，从弹出的系统运行对话框中输入字符串命令“cmd”，单击“确定”按钮后，将系统状态切换到MS-DOS工作窗口;在该窗口的命令提示符下输入“ipconfig /all”命令，单击回车键后，笔者从其后弹出的结果界面中发现该计算机的网络参数没有错误。
那么究竟是什么原因导致该计算机不能访问局域网呢，难道是该计算机系统的TCP/IP协议受到了损坏，或者是安装在该计算机系统中的网卡设备自身遇到了硬件故障?为了检验自己的分析是否正确，笔者在该系统的运行对话框中执行了“ping 127.0.0.1”字符串命令。
该命令返回的结果表明该故障计算机的网卡设备安装正确，TCP/IP协议也没有受到损坏。为了测试网卡设备是否能够正常工作，笔者又在系统运行框中执行了“ping 192.168.10.11”字符串命令(其中192.168.10.11是该故障计算机的本地IP地址)，测试表明本地网卡也是能够正常工作的。
在排除了本地计算机的网络配置因素后，笔者又Ping了局域网网关的IP地址，以检测故障计算机是否能够正常访问局域网路由器，这一次Ping命令返回的测试结果竟然是“Request timed out”，这难道是局域网中的路由器出现了问题，或者是本地计算机与路由器之间的线路连接出现了故障?考虑到笔者事先已经成功用自己的笔记本电脑尝试了局域网上网，因此局域网中的路由器应该是正常的，这么说来唯一的可能就是该计算机到路由器之间的线路连接出现了问题。
会不会是物理线路发生了短路或断裂现象，从而导致了同事的计算机不能正常上网呢?为了测试物理线路是否正常连通，笔者立即找来了专业的线缆测试仪，对连接该计算机的网络线缆进行了连通性测试，测试结果表明物理线路是没有任何问题的。在毫无头绪的情况下，笔者开始怀疑同事的计算机可能感染了蠕虫病毒，因为病毒有时也会导致网络不通的故障现象。
考虑到查杀病毒是一件很费时间的事情，而且现在也不能确认一定就是病毒“惹”的祸，于是笔者决定使用自己的笔记本电脑临时替代故障计算机接入到局域网中。当笔者将同事办公室中的网络线缆插入到自己笔记本电脑的上网端口中，并且尝试Ping局域网中的网关地址时，竟然发现笔者的笔记本电脑也无法Ping通网关，这说明计算机不能上网的故障肯定与病毒无关，也与本地计算机中的配置无关;而且打开本地连接的状态显示界面时，笔者看到通过同事办公室的网络线缆访问网络时，计算机只能对外发送数据包信息，而无法从网络中接受到信息。
由于笔者的笔记本电脑完全是正常的，现在连笔记本电脑也无法通过该网络线缆上网，那问题的原因肯定还是出在网络连接方面，那会不会是局域网中的某些网络设备出现了问题?笔者来到该同事的隔壁办公室，并尝试借用该办公室中的网络线缆进行上网测试操作，测试结果让笔者感到非常意外，居然能够正常上网，这是怎么回事呢?同一个楼层中的所有计算机应该都连接到同一台交换机中的呀，为什么有的计算机能上网，有的计算机不能上网呢，莫非是交换机的部分端口出现了问题?
到了这里，笔者也没有什么好的招法可以利用了，只好来到局域网机房打开接线柜，准备查看交换机端口的工作状态是否正常。打开接线柜后，笔者仔细观察了几台二层交换机中的信号灯状态，发现所有信号灯几乎都处于绿色闪烁状态，这种状态看上去也是正常的呀。既然用眼睛无法看出故障出来，笔者只好使用笔记本依次连接每一台二层交换机进行上网测试了。
当笔记本连接到第一台交换机中时，笔记本能够正常上网，连接到第二台交换机中时，笔记本也能正常上网，偏偏在连接到第三台交换机中时，笔记本就不能正常访问网络了，难道是第三台交换机有问题?笔者不放心，在该连接状态下，又Ping了一次局域网路由器地址，结果发现路由器竟然不能Ping通;接着，笔者又将笔记本电脑换插到第三台交换机中的另外一个端口，并继续进行Ping命令测试，但是所有端口测试下来后都不能Ping通网关地址;再仔细观察第三台交换机控制面板中的信号灯状态时，笔者竟然发现所有端口的信号灯都是绿色的，按照道理来说只有插入网络线缆的端口信号灯是绿色的，为什么空着的端口对应信号灯也是绿色的呢?很显然第三台交换机自身工作状态出现了故障!
找到故障原因后，笔者立即断开了第三台交换机的电源，过一段时间后，又重新接通电源来重启了一下该交换机;待该交换机启动稳定后，笔者立即用笔记本电脑测试了该交换机的连通性，这次笔者发现通过该交换机笔记本电脑已经能够Ping通网关地址了，看来第三台交换机的工作状态已经恢复正常了。于是，笔者又火速赶到故障计算机旁，重新进行了上网访问操作，结果果然没有让笔者再失望，故障计算机终于能够正常上网了;与此同时，其他报修故障的几位同事也都说网络访问又恢复正常了。
故障小结
虽然故障已经被排除了，但笔者还是有一点没有弄明白，那就是为什么处于同一楼层中的计算机有的能够上网，有的不能上网呢?按照每一楼层中的计算机都连接到同一台交换机的组网结构，不应该出现这样的现象呀，除非交换机的端口发生问题了!后来，笔者花了一定的时间梳理了机房中的线路连接，结果发现那台不能上网的计算机已经被连接到另外一台机动交换机中了，而那台机动交换机出了问题后，所有连接到这台交换机中的计算机自然就不能上网了，这也是其他一些同事同时报修故障的原因。
再次回顾该故障的排除过程时，笔者认为日后在检查交换机或其他网络设备的工作状态是否正常时，不能简单地通过观察信号灯是否处于绿色闪烁状态得出结论，因为许多网络设备在长时间工作后，可能会出现系统缓存错误，从而容易出现一些虚假的状态信息;而且考虑到类似交换机这样的网络设备一般不容易发生损坏，因此当我们怀疑它们的工作状态出问题后，往往只需要重新启动一下，说不定就能轻松解决各种奇怪的网络故障。
当然，还有一点需要提醒各位网络管理员的是，我们一定要制定严格的机房管理制度，坚决禁止任何用户随意插拔接线柜中的网络线缆，有效防止用户私自插拔线缆而影响整个局域网的正常运行。
